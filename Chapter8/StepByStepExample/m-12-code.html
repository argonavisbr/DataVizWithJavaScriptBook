
    <style>
        .tooltip {
            opacity: 0;
        }
        .tooltip rect {
            fill: rgba(255,255,255,.8);
            stroke: gray;
            stroke-width: 2px;
            height: 30px;
            width: 100px;
            rx: 5px;
            ry: 5px;
            pointer-events: none;
        }
        .tooltip text {
            transform: translate(18px,18px);
        }
    </style>

    <script>


    const colorScale = d3.scaleSequential(d3.interpolateInferno);

    const tooltip = svg.append("g")
            .attr("transform", "translate("+[marginPlanet,height/2]+")")
            .append("g")
            .attr("class", "tooltip");
    tooltip.append("rect");
    tooltip.append("text");

    function configPage(id) {

        d3.select('#amount').text(function(d) {
            return currentPlanet.satellites.length != 1 ? 's' : '';
        });

        d3.select('#fraction').text(function(d) {
            return largeSatellites.length == currentPlanet.satellites.length ? "" : 'largest';
        });

        colorScale.domain([0, satKmSpace*1.5]);
    }


    function handleTooltip(planet) {
        planet.on("mouseover", function(d,i) {
            d3.select(".tooltip")
                    .attr("transform", function() {
                        return "translate(-75,50)";
                    })
                    .transition()
                    .style("opacity", 1)
                    .select("text")
                    .text(function() {
                        return "Diameter: " + d.diameterKm + " km";
                    });
        }).on("mouseout", function(d,i) {
            d3.select(".tooltip")
                    .transition()
                    .style("opacity", 0);
        });
    }

    function handleTooltips(moons) {
        moons.on("mouseover", function(d,i) {
            d3.select(".tooltip")
                    .attr("transform", function() {
                        return "translate("+positionCenter(d,i)+","+scale(d.diameterKm/4)+")";
                    })
                    .transition()
                    .style("opacity", 1)
                    .select("text")
                    .text(function() {
                        return "Diameter: " + d.diameterKm + " km";
                    });
        }).on("mouseout", function(d,i) {
            d3.select(".tooltip")
                    .transition()
                    .style("opacity", 0);
        });
    }

</script>