<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stack</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
<p>See results in JavaScript console</p>
<script>
    const populations = [
        {year: 1960, "Mexico": 38174, "Canada": 17917, "USA": 186808},
        {year: 1980, "Mexico": 69361, "Canada": 24537, "USA": 229763},
        {year: 2000, "Mexico": 101720, "Canada": 30736, "USA": 281983}
    ];

    const stack = d3.stack().keys(['USA', 'Mexico', 'Canada']);
    const stackedData = stack(populations);
    console.log(JSON.stringify(stackedData));

    /* Result
     [
         [ [0,186808],      [0,229763],      [0,281983]      ],
         [ [186808,224982], [229763,299124], [281983,383703] ],
         [ [224982,242899], [299124,323661], [383703,414439] ]
     ]
     */

</script>
</body>
</html>